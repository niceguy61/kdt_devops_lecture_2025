# ğŸ” ì»¨í…Œì´ë„ˆ ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìº” ì‹¤ìŠµ ê°€ì´ë“œ

## ğŸ¯ ì‹¤ìŠµ ëª©í‘œ
- Trivyë¥¼ ì‚¬ìš©í•œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë³´ì•ˆ ìŠ¤ìº”
- Critical ì·¨ì•½ì  ë°œê²¬ ë° ìˆ˜ì •
- ë³´ì•ˆ ê°•í™”ëœ ì´ë¯¸ì§€ êµ¬ì¶•

## ğŸ“‹ ì‹¤ìŠµ ë‹¨ê³„

### 1ë‹¨ê³„: ì·¨ì•½í•œ ì´ë¯¸ì§€ ë¹Œë“œ ë° ì‹¤í–‰
```bash
# ì·¨ì•½í•œ ì´ë¯¸ì§€ ë¹Œë“œ
docker build -f Dockerfile.vulnerable -t vulnerable-web .

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -d -p 8080:80 --name vulnerable-container vulnerable-web

# ì›¹ì‚¬ì´íŠ¸ í™•ì¸
curl http://localhost:8080
```

### 2ë‹¨ê³„: Trivyë¡œ ì·¨ì•½ì  ìŠ¤ìº”
```bash
# Trivy ì„¤ì¹˜ (Windows)
curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin

# ì´ë¯¸ì§€ ìŠ¤ìº” (ì „ì²´)
trivy image vulnerable-web

# Criticalê³¼ Highë§Œ ë³´ê¸°
trivy image --severity CRITICAL,HIGH vulnerable-web

# JSON í˜•íƒœë¡œ ì¶œë ¥
trivy image --format json vulnerable-web > scan-results.json
```

### 3ë‹¨ê³„: ì·¨ì•½ì  ë¶„ì„
**ì˜ˆìƒë˜ëŠ” Critical ì·¨ì•½ì :**
- CVE-2019-20372 (Nginx 1.14.0)
- CVE-2021-23017 (Nginx HTTP/2)
- ê¸°íƒ€ Debian íŒ¨í‚¤ì§€ ì·¨ì•½ì ë“¤

### 4ë‹¨ê³„: ë³´ì•ˆ ê°•í™”ëœ ì´ë¯¸ì§€ ë¹Œë“œ
```bash
# ë³´ì•ˆ ê°•í™”ëœ ì´ë¯¸ì§€ ë¹Œë“œ
docker build -f Dockerfile.secure -t secure-web .

# ìƒˆ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -d -p 8081:8080 --name secure-container secure-web

# ì›¹ì‚¬ì´íŠ¸ í™•ì¸
curl http://localhost:8081
```

### 5ë‹¨ê³„: ê°œì„  í™•ì¸
```bash
# ë³´ì•ˆ ê°•í™”ëœ ì´ë¯¸ì§€ ìŠ¤ìº”
trivy image secure-web

# ì·¨ì•½ì  ë¹„êµ
trivy image --severity CRITICAL,HIGH secure-web
```

## ğŸ¯ ì„±ê³µ ê¸°ì¤€
- âœ… Critical ì·¨ì•½ì : 0ê°œ
- âœ… High ì·¨ì•½ì : í˜„ì €íˆ ê°ì†Œ
- âœ… ë¹„root ì‚¬ìš©ìë¡œ ì‹¤í–‰
- âœ… Alpine ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‚¬ìš©

## ğŸ”§ ì¶”ê°€ ì‹¤ìŠµ (ê³ ê¸‰ì)
```bash
# íŠ¹ì • CVE ê²€ìƒ‰
trivy image --format table --severity CRITICAL vulnerable-web | grep CVE-2019-20372

# ì´ë¯¸ì§€ íˆìŠ¤í† ë¦¬ í™•ì¸
docker history vulnerable-web
docker history secure-web

# ì´ë¯¸ì§€ í¬ê¸° ë¹„êµ
docker images | grep -E "(vulnerable-web|secure-web)"
```

## ğŸš¨ ì£¼ì˜ì‚¬í•­
- ì´ ì‹¤ìŠµì€ êµìœ¡ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”
- ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œëŠ” ì ˆëŒ€ ì·¨ì•½í•œ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”
- ì •ê¸°ì ì¸ ë³´ì•ˆ ìŠ¤ìº”ì„ CI/CD íŒŒì´í”„ë¼ì¸ì— í¬í•¨ì‹œí‚¤ì„¸ìš”