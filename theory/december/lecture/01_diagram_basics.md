# 다이어그램 기초 (10분)

## 학습 목표
- 다이어그램의 중요성과 역할 이해
- 주요 다이어그램 유형 구분
- 효과적인 다이어그램 작성을 위한 품질 원칙 습득

---

## 1. 왜 다이어그램이 중요한가?

### 1.1 커뮤니케이션 도구
- **시각적 언어**: 복잡한 시스템을 한눈에 이해할 수 있게 표현
- **공통 언어**: 개발자, 운영자, 관리자 간의 의사소통 촉진
- **빠른 이해**: 긴 문서보다 다이어그램 하나가 더 효과적일 수 있음

**예시**:
```
"VPC 안에 퍼블릭 서브넷 2개와 프라이빗 서브넷 2개가 있고, 
ALB는 퍼블릭에, EC2는 프라이빗에 배치되며..."
```
vs.
```
[다이어그램 한 장으로 모든 관계를 즉시 파악]
```

### 1.2 문서화
- **지식 보존**: 시스템 설계 의도와 구조를 기록
- **온보딩 가속화**: 신규 팀원이 시스템을 빠르게 이해
- **유지보수 용이**: 변경 사항의 영향 범위를 쉽게 파악

### 1.3 설계 검증
- **사전 검토**: 구현 전에 설계 문제 발견
- **아키텍처 리뷰**: 팀원들과 설계 토론 촉진
- **보안 검토**: 보안 취약점을 시각적으로 식별

---

## 2. 다이어그램 유형

### 2.1 아키텍처 다이어그램
**목적**: 시스템의 구성 요소와 관계를 표현

**사용 사례**:
- AWS/Azure/GCP 클라우드 인프라
- Kubernetes 클러스터 구조
- 마이크로서비스 아키텍처

**특징**:
- 구성 요소 간의 연결 관계
- 네트워크 경계 (VPC, 서브넷)
- 데이터 흐름 방향

**예시**:
```
[Internet] → [ALB] → [EC2] → [RDS]
              ↓
            [S3]
```

### 2.2 플로우 다이어그램 (순서도)
**목적**: 프로세스의 흐름과 의사결정을 표현

**사용 사례**:
- CI/CD 파이프라인
- 배포 프로세스
- 비즈니스 로직 흐름

**특징**:
- 시작과 종료 지점
- 순차적 단계
- 조건부 분기 (if/else)
- 반복 (loop)

**예시**:
```
[시작] → [빌드] → [테스트 성공?]
                      ↓ Yes        ↓ No
                   [배포]        [알림]
                      ↓
                   [종료]
```

### 2.3 시퀀스 다이어그램
**목적**: 시간 순서에 따른 상호작용을 표현

**사용 사례**:
- API 호출 흐름
- 사용자 인증 프로세스
- 마이크로서비스 간 통신

**특징**:
- 시간 축 (위에서 아래로)
- 참여자 (Actor, System)
- 메시지 교환

**예시**:
```
사용자 → Frontend: 로그인 요청
Frontend → Backend: 인증 API 호출
Backend → Database: 사용자 조회
Database → Backend: 사용자 정보
Backend → Frontend: 토큰 발급
Frontend → 사용자: 로그인 성공
```

---

## 3. 다이어그램 품질 원칙

### 3.1 명확성 (Clarity)
**원칙**: 다이어그램의 목적이 즉시 이해되어야 함

**실천 방법**:
- ✅ **제목 추가**: "AWS 3계층 웹 애플리케이션 아키텍처"
- ✅ **레이블 명시**: 모든 구성 요소에 이름 표시
- ✅ **범례 제공**: 색상이나 기호의 의미 설명
- ❌ **피해야 할 것**: 레이블 없는 박스, 불명확한 연결선

**예시**:
```
좋은 예:
[ALB (Application Load Balancer)]
  ↓ HTTP/HTTPS
[EC2 (Web Server)]

나쁜 예:
[Box1] → [Box2]
```

### 3.2 일관성 (Consistency)
**원칙**: 동일한 요소는 동일하게 표현

**실천 방법**:
- ✅ **색상 규칙**: 퍼블릭 서브넷은 녹색, 프라이빗은 파란색
- ✅ **아이콘 통일**: AWS 공식 아이콘 사용
- ✅ **화살표 규칙**: 데이터 흐름은 실선, 참조는 점선
- ❌ **피해야 할 것**: 같은 서비스를 다른 모양으로 표현

**예시**:
```
일관성 있음:
EC2 인스턴스 1: [EC2 아이콘]
EC2 인스턴스 2: [EC2 아이콘]

일관성 없음:
EC2 인스턴스 1: [EC2 아이콘]
EC2 인스턴스 2: [사각형]
```

### 3.3 단순성 (Simplicity)
**원칙**: 필요한 것만 포함, 불필요한 세부사항 제거

**실천 방법**:
- ✅ **핵심 집중**: 전달하려는 메시지에 집중
- ✅ **계층화**: 상위 레벨과 상세 레벨 다이어그램 분리
- ✅ **그룹화**: 관련 요소를 묶어서 표현
- ❌ **피해야 할 것**: 모든 세부사항을 한 다이어그램에 표현

**예시**:
```
상위 레벨 (간단):
[사용자] → [웹 서버] → [데이터베이스]

상세 레벨 (필요시):
[사용자]
  ↓
[Route 53]
  ↓
[CloudFront]
  ↓
[ALB]
  ↓
[EC2 Auto Scaling Group]
  ├─ [EC2-1]
  ├─ [EC2-2]
  └─ [EC2-3]
  ↓
[RDS Multi-AZ]
  ├─ [Primary]
  └─ [Standby]
```

---

## 4. 다이어그램 작성 팁

### 4.1 시작하기 전에
1. **목적 정의**: 누구에게, 무엇을 전달할 것인가?
2. **범위 결정**: 어디까지 표현할 것인가?
3. **도구 선택**: Mermaid (문서화) vs Draw.io (프레젠테이션)

### 4.2 작성 중
1. **위에서 아래로**: 사용자 → 프론트엔드 → 백엔드 → 데이터베이스
2. **왼쪽에서 오른쪽으로**: 시간 순서 또는 데이터 흐름
3. **그룹화**: 관련 요소를 박스로 묶기 (VPC, Namespace)

### 4.3 완성 후
1. **검토**: 다른 사람이 이해할 수 있는가?
2. **피드백**: 팀원에게 리뷰 요청
3. **업데이트**: 시스템 변경 시 다이어그램도 함께 업데이트

---

## 5. 실전 적용

### DevOps 엔지니어가 다이어그램을 사용하는 시나리오

**시나리오 1: 새 프로젝트 시작**
- 요구사항 분석 → 아키텍처 다이어그램 작성 → 팀 리뷰 → 구현

**시나리오 2: 장애 대응**
- 현재 아키텍처 확인 → 문제 지점 식별 → 해결 방안 시각화

**시나리오 3: 문서화**
- 구현 완료 → 최종 아키텍처 다이어그램 작성 → README에 포함

**시나리오 4: 지식 공유**
- 신규 팀원 온보딩 → 시스템 아키텍처 설명 → 다이어그램 활용

---

## 6. 다음 단계

이제 다이어그램의 중요성과 기본 원칙을 이해했습니다. 다음 섹션에서는:
- **Mermaid**: 텍스트 기반 다이어그램 도구 학습
- **AWS 다이어그램**: 클라우드 인프라 시각화
- **Kubernetes 다이어그램**: 컨테이너 오케스트레이션 표현
- **CI/CD & 로직 플로우**: 프로세스 흐름 작성

---

## 핵심 요약

✅ **다이어그램의 가치**
- 커뮤니케이션, 문서화, 설계 검증

✅ **주요 유형**
- 아키텍처, 플로우, 시퀀스

✅ **품질 원칙**
- 명확성: 목적이 즉시 이해됨
- 일관성: 동일한 요소는 동일하게
- 단순성: 필요한 것만 포함

✅ **실천 방법**
- 목적 정의 → 범위 결정 → 작성 → 검토 → 업데이트
