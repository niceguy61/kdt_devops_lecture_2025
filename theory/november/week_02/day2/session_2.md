# November Week 2 Day 2 Session 2: Cognito (ë¡œê·¸ì¸ ì‹œìŠ¤í…œ)

<div align="center">

**ğŸ‘¤ íšŒì›ê°€ì…** â€¢ **ğŸ” ë¡œê·¸ì¸** â€¢ **ğŸ« ì¶œì…ì¦** â€¢ **ğŸ“± ì†Œì…œ ë¡œê·¸ì¸**

*AWSê°€ ë§Œë“¤ì–´ì£¼ëŠ” ë¡œê·¸ì¸ ì‹œìŠ¤í…œ*

</div>

---

## ğŸ•˜ Session ì •ë³´
**ì‹œê°„**: 09:40-10:20 (40ë¶„)
**ëª©í‘œ**: ë¡œê·¸ì¸ ì‹œìŠ¤í…œì´ ë­”ì§€, ì™œ í•„ìš”í•œì§€ ì‰½ê²Œ ì´í•´í•˜ê¸°
**ë°©ì‹**: ì‹¤ìƒí™œ ë¹„ìœ  + ê·¸ë¦¼ + ê°„ë‹¨í•œ ì˜ˆì‹œ

## ğŸ¯ í•™ìŠµ ëª©í‘œ

### ğŸ“š ì´í•´ ëª©í‘œ
- Cognitoê°€ ë­”ì§€ ì•Œê¸° (ë¡œê·¸ì¸ ì‹œìŠ¤í…œ!)
- ì™œ í•„ìš”í•œì§€ ì´í•´í•˜ê¸° (ì§ì ‘ ë§Œë“¤ë©´ ë„ˆë¬´ ì–´ë ¤ì›Œìš”)
- ë‘ ê°€ì§€ ì¢…ë¥˜ ì•Œê¸° (ë¡œê·¸ì¸ vs AWS ì ‘ê·¼)
- ì¶œì…ì¦(JWT í† í°)ì´ ë­”ì§€ ì•Œê¸°

### ğŸ› ï¸ ì ìš© ëª©í‘œ
- ì–¸ì œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ íŒë‹¨í•˜ê¸°
- íšŒì›ê°€ì…/ë¡œê·¸ì¸ íë¦„ ì´í•´í•˜ê¸°
- API Gatewayì™€ ì—°ê²°í•˜ëŠ” ë°©ë²• ì•Œê¸°

---

## ğŸ¤” ì™œ í•„ìš”í•œê°€? (5ë¶„)

### ğŸ  ì‹¤ìƒí™œ ë¹„ìœ : í•™êµ ì¶œì…ì¦

**ì¶œì…ì¦ ì—†ëŠ” í•™êµ** (ìœ„í—˜í•´ìš”):
```
ëˆ„êµ¬ë‚˜ í•™êµì— ë“¤ì–´ì˜¬ ìˆ˜ ìˆì–´ìš”
    â†“
ë¬¸ì œì :
- í•™ìƒì¸ì§€ í™•ì¸ ë¶ˆê°€ ğŸ˜±
- ì™¸ë¶€ì¸ë„ ë“¤ì–´ì˜¬ ìˆ˜ ìˆìŒ
- ëˆ„ê°€ ì™”ëŠ”ì§€ ê¸°ë¡ ì—†ìŒ
```

**ì¶œì…ì¦ ìˆëŠ” í•™êµ** (ì•ˆì „í•´ìš”):
```
í•™êµ ì…êµ¬:
1. ì¶œì…ì¦ í™•ì¸ (í•™ìƒì¦)
2. í•™ìƒì´ë©´ ë“¤ì–´ì˜¤ê¸° âœ…
3. í•™ìƒ ì•„ë‹ˆë©´ ëª» ë“¤ì–´ì˜´ âŒ
4. ì¶œì… ê¸°ë¡ ë‚¨ê¸°ê¸°
```

### ğŸ’¼ ì‹¤ì œ ì˜ˆì‹œ: ì›¹ì‚¬ì´íŠ¸ ë¡œê·¸ì¸

**ì§ì ‘ ë§Œë“¤ë©´** (ë„ˆë¬´ ì–´ë ¤ì›Œìš”):
```
ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°:
1. íšŒì›ê°€ì… í˜ì´ì§€ ë§Œë“¤ê¸°
2. ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”í•˜ê¸°
3. ì´ë©”ì¼ ì¸ì¦ ë³´ë‚´ê¸°
4. ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ë§Œë“¤ê¸°
5. ë¡œê·¸ì¸ í˜ì´ì§€ ë§Œë“¤ê¸°
6. ì¶œì…ì¦(í† í°) ë§Œë“¤ê¸°
7. êµ¬ê¸€ ë¡œê·¸ì¸ ì—°ê²°í•˜ê¸°
8. í˜ì´ìŠ¤ë¶ ë¡œê·¸ì¸ ì—°ê²°í•˜ê¸°
---
ê°œë°œ ì‹œê°„: ëª‡ ë‹¬ ğŸ˜±
```

**Cognito ì‚¬ìš©í•˜ë©´** (ì‰¬ì›Œìš”):
```
Cognito (AWSê°€ ë‹¤ ë§Œë“¤ì–´ì¤Œ):
1. íšŒì›ê°€ì… âœ… (ìë™)
2. ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” âœ… (ìë™)
3. ì´ë©”ì¼ ì¸ì¦ âœ… (ìë™)
4. ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° âœ… (ìë™)
5. ë¡œê·¸ì¸ âœ… (ìë™)
6. ì¶œì…ì¦ ë§Œë“¤ê¸° âœ… (ìë™)
7. êµ¬ê¸€ ë¡œê·¸ì¸ âœ… (ì„¤ì •ë§Œ)
8. í˜ì´ìŠ¤ë¶ ë¡œê·¸ì¸ âœ… (ì„¤ì •ë§Œ)
---
ê°œë°œ ì‹œê°„: ëª‡ ì‹œê°„ âœ…
```

**ê·¸ë¦¼ìœ¼ë¡œ ë³´ê¸°**:
```mermaid
graph TB
    subgraph "ì§ì ‘ ë§Œë“¤ê¸° (ì–´ë ¤ì›Œìš”)"
        A1[íšŒì›ê°€ì… ì½”ë“œ] --> A2[ë¡œê·¸ì¸ ì½”ë“œ]
        A2 --> A3[ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”]
        A3 --> A4[ì´ë©”ì¼ ì¸ì¦]
        A4 --> A5[ì†Œì…œ ë¡œê·¸ì¸]
        A5 --> A6[ëª‡ ë‹¬ í›„ ì™„ì„±]
    end
    
    subgraph "Cognito ì‚¬ìš© (ì‰¬ì›Œìš”)"
        B1[Cognito ì„¤ì •] --> B2[ëª‡ ì‹œê°„ í›„ ì™„ì„±]
    end
    
    style A1 fill:#ffebee
    style A2 fill:#ffebee
    style A3 fill:#ffebee
    style A4 fill:#ffebee
    style A5 fill:#ffebee
    style A6 fill:#ffebee
    style B1 fill:#e8f5e8
    style B2 fill:#e8f5e8
```

### ğŸ¯ Cognitoì˜ ì¥ì 

1. **ë¹¨ë¼ìš”**: ëª‡ ë‹¬ â†’ ëª‡ ì‹œê°„
2. **ì•ˆì „í•´ìš”**: AWSê°€ ë³´ì•ˆ ê´€ë¦¬
3. **ì‰¬ì›Œìš”**: ì½”ë“œ ê±°ì˜ ì•ˆ ì¨ë„ ë¨
4. **í¸í•´ìš”**: ì†Œì…œ ë¡œê·¸ì¸ë„ ì‰½ê²Œ

---

## ğŸ“– í•µì‹¬ ê°œë… (30ë¶„)

### ğŸ” ê°œë… 1: ë‘ ê°€ì§€ ì¢…ë¥˜ (10ë¶„)

> **ì‰½ê²Œ ë§í•˜ë©´**: ë¡œê·¸ì¸ìš© vs AWS ì ‘ê·¼ìš©

#### ì¢…ë¥˜ 1: User Pool (ë¡œê·¸ì¸ìš©)

**ì—­í• **: í•™êµ ì¶œì…ì¦ ì‹œìŠ¤í…œ

**í•˜ëŠ” ì¼**:
- ğŸ‘¤ **íšŒì›ê°€ì…**: ìƒˆ í•™ìƒ ë“±ë¡
- ğŸ” **ë¡œê·¸ì¸**: í•™ìƒ í™•ì¸
- ğŸ« **ì¶œì…ì¦ ë°œê¸‰**: ë¡œê·¸ì¸í•˜ë©´ ì¶œì…ì¦ ì¤Œ
- ğŸ“± **ì†Œì…œ ë¡œê·¸ì¸**: êµ¬ê¸€, í˜ì´ìŠ¤ë¶ìœ¼ë¡œ ë¡œê·¸ì¸

**ì‹¤ìƒí™œ ë¹„ìœ **:
```
í•™êµ í–‰ì •ì‹¤:
- ì‹ ì…ìƒ ë“±ë¡ (íšŒì›ê°€ì…)
- í•™ìƒì¦ ë°œê¸‰ (ë¡œê·¸ì¸)
- ì¶œì…ì¦ ì£¼ê¸° (JWT í† í°)
- ì „í•™ìƒ ì²˜ë¦¬ (ì†Œì…œ ë¡œê·¸ì¸)
```

**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**:
- ì›¹ì‚¬ì´íŠ¸ ë¡œê·¸ì¸
- ì•± ë¡œê·¸ì¸
- API ì‚¬ìš© ì „ ë¡œê·¸ì¸ í™•ì¸

#### ì¢…ë¥˜ 2: Identity Pool (AWS ì ‘ê·¼ìš©)

**ì—­í• **: AWS ì—´ì‡  ë¹Œë ¤ì£¼ê¸°

**í•˜ëŠ” ì¼**:
- ğŸ”‘ **AWS ì—´ì‡  ë°œê¸‰**: S3, DynamoDB ì ‘ê·¼ ì—´ì‡ 
- ğŸ‘» **ìµëª… ì ‘ê·¼**: ë¡œê·¸ì¸ ì—†ì´ë„ ì œí•œì  ì ‘ê·¼
- ğŸ¯ **ê¶Œí•œ ê´€ë¦¬**: ëˆ„êµ¬ì—ê²Œ ì–´ë–¤ ì—´ì‡  ì¤„ì§€

**ì‹¤ìƒí™œ ë¹„ìœ **:
```
ë„ì„œê´€ ëŒ€ì¶œì¦:
- í•™ìƒì¦ ë³´ì—¬ì£¼ë©´ (User Pool)
- ëŒ€ì¶œì¦ ë°œê¸‰ (Identity Pool)
- ì±… ë¹Œë¦´ ìˆ˜ ìˆìŒ (AWS ë¦¬ì†ŒìŠ¤ ì ‘ê·¼)
```

**ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?**:
- ì•±ì—ì„œ S3ì— ì‚¬ì§„ ì§ì ‘ ì—…ë¡œë“œ
- ì•±ì—ì„œ DynamoDB ì§ì ‘ ì½ê¸°
- ë¡œê·¸ì¸ ì—†ì´ ì œí•œì  ê¸°ëŠ¥ ì‚¬ìš©

#### ë¹„êµí‘œ (ì‰½ê²Œ ì´í•´í•˜ê¸°)

| ë¹„êµ | User Pool<br/>(í•™ìƒì¦) | Identity Pool<br/>(ëŒ€ì¶œì¦) |
|------|----------------------|--------------------------|
| **ëª©ì ** | ë¡œê·¸ì¸ í™•ì¸ | AWS ì ‘ê·¼ |
| **ë°œê¸‰** | ì¶œì…ì¦ (JWT) | AWS ì—´ì‡  |
| **ì‚¬ìš©** | ì›¹/ì•± ë¡œê·¸ì¸ | S3, DynamoDB |
| **ë¹„ìœ ** | í•™ìƒì¦ | ë„ì„œê´€ ëŒ€ì¶œì¦ |

**ê·¸ë¦¼ìœ¼ë¡œ ë³´ê¸°**:
```mermaid
graph TB
    User[ì‚¬ìš©ì] --> UP[User Pool<br/>í•™ìƒì¦ ë°œê¸‰]
    UP --> JWT[ì¶œì…ì¦<br/>JWT í† í°]
    JWT --> APIGW[API Gateway<br/>ì¶œì…ì¦ í™•ì¸]
    
    UP --> IP[Identity Pool<br/>ëŒ€ì¶œì¦ ë°œê¸‰]
    IP --> Key[AWS ì—´ì‡ ]
    Key --> S3[S3ì— ì‚¬ì§„<br/>ì§ì ‘ ì—…ë¡œë“œ]
    
    style User fill:#e3f2fd
    style UP fill:#fff3e0
    style JWT fill:#e8f5e8
    style APIGW fill:#f3e5f5
    style IP fill:#ffebee
    style S3 fill:#e3f2fd
```

### ğŸ” ê°œë… 2: ë¡œê·¸ì¸ ê³¼ì • (10ë¶„)

> **ì‰½ê²Œ ë§í•˜ë©´**: íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸ â†’ ì¶œì…ì¦ ë°›ê¸°

#### Phase 1: íšŒì›ê°€ì… (í•™ìƒ ë“±ë¡)

```
1. íšŒì›ê°€ì… ë²„íŠ¼ í´ë¦­
    â†“
2. ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
    â†“
3. Cognitoì— ì •ë³´ ì €ì¥
    â†“
4. ì´ë©”ì¼ë¡œ ì¸ì¦ ì½”ë“œ ë°›ê¸°
    â†“
5. ì¸ì¦ ì½”ë“œ ì…ë ¥
    â†“
6. íšŒì›ê°€ì… ì™„ë£Œ! âœ…
```

**ì‹¤ìƒí™œ ë¹„ìœ **:
```
í•™êµ ì‹ ì…ìƒ ë“±ë¡:
1. ë“±ë¡ ì‹ ì²­ì„œ ì‘ì„±
2. í•™êµì— ì œì¶œ
3. í•™êµì—ì„œ í™•ì¸
4. ì§‘ìœ¼ë¡œ í™•ì¸ í¸ì§€
5. í™•ì¸ ë„ì¥ ì°ê¸°
6. ë“±ë¡ ì™„ë£Œ!
```

#### Phase 2: ë¡œê·¸ì¸ (í•™ìƒì¦ í™•ì¸)

```
1. ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­
    â†“
2. ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
    â†“
3. Cognitoê°€ í™•ì¸
    â†“
4. ë§ìœ¼ë©´ ì¶œì…ì¦ ë°œê¸‰ âœ…
    â†“
5. ì¶œì…ì¦ ë°›ê¸° (JWT í† í°)
```

**ì‹¤ìƒí™œ ë¹„ìœ **:
```
í•™êµ ì •ë¬¸:
1. í•™ìƒì¦ ë³´ì—¬ì£¼ê¸°
2. ê²½ë¹„ì‹¤ì—ì„œ í™•ì¸
3. í•™ìƒ ë§ìœ¼ë©´
4. ì˜¤ëŠ˜ ì¶œì…ì¦ ë°œê¸‰
5. ì¶œì…ì¦ ë°›ê³  ì…ì¥
```

#### Phase 3: API ì‚¬ìš© (ì¶œì…ì¦ìœ¼ë¡œ ì…ì¥)

```
1. API ìš”ì²­í•  ë•Œ
    â†“
2. ì¶œì…ì¦ ê°™ì´ ë³´ë‚´ê¸°
    â†“
3. API Gatewayê°€ ì¶œì…ì¦ í™•ì¸
    â†“
4. ì§„ì§œ ì¶œì…ì¦ì´ë©´ âœ…
    â†“
5. Lambda ì‹¤í–‰
```

**ì‹¤ìƒí™œ ë¹„ìœ **:
```
êµì‹¤ ì…ì¥:
1. êµì‹¤ ë¬¸ ì•
2. ì¶œì…ì¦ ë³´ì—¬ì£¼ê¸°
3. ì„ ìƒë‹˜ì´ í™•ì¸
4. ì§„ì§œë©´ ì…ì¥
5. ìˆ˜ì—… ë“£ê¸°
```

**ì „ì²´ íë¦„ ê·¸ë¦¼**:
```mermaid
sequenceDiagram
    participant ì‚¬ìš©ì
    participant Cognito
    participant APIë¬¸ì§€ê¸°
    participant Lambda
    
    Note over ì‚¬ìš©ì,Cognito: Phase 1: íšŒì›ê°€ì…
    ì‚¬ìš©ì->>Cognito: 1. íšŒì›ê°€ì… (ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸)
    Cognito->>ì‚¬ìš©ì: 2. ì¸ì¦ ì½”ë“œ ì´ë©”ì¼ ë°œì†¡
    ì‚¬ìš©ì->>Cognito: 3. ì¸ì¦ ì½”ë“œ ì…ë ¥
    Cognito->>ì‚¬ìš©ì: 4. íšŒì›ê°€ì… ì™„ë£Œ!
    
    Note over ì‚¬ìš©ì,Cognito: Phase 2: ë¡œê·¸ì¸
    ì‚¬ìš©ì->>Cognito: 5. ë¡œê·¸ì¸ (ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸)
    Cognito->>ì‚¬ìš©ì: 6. ì¶œì…ì¦ ë°œê¸‰ (JWT)
    
    Note over ì‚¬ìš©ì,Lambda: Phase 3: API ì‚¬ìš©
    ì‚¬ìš©ì->>APIë¬¸ì§€ê¸°: 7. API ìš”ì²­ + ì¶œì…ì¦
    APIë¬¸ì§€ê¸°->>Cognito: 8. ì¶œì…ì¦ ì§„ì§œì¸ê°€ìš”?
    Cognito->>APIë¬¸ì§€ê¸°: 9. ì§„ì§œì˜ˆìš”!
    APIë¬¸ì§€ê¸°->>Lambda: 10. Lambda ì‹¤í–‰
    Lambda->>ì‚¬ìš©ì: 11. ê²°ê³¼ ëŒë ¤ì£¼ê¸°
```

### ğŸ” ê°œë… 3: ì¶œì…ì¦(JWT í† í°) (10ë¶„)

> **ì‰½ê²Œ ë§í•˜ë©´**: ë¡œê·¸ì¸í•˜ë©´ ë°›ëŠ” "ì˜¤ëŠ˜ì˜ ì¶œì…ì¦"

#### ì¶œì…ì¦ì´ ë­”ê°€ìš”?

**ì‹¤ìƒí™œ ë¹„ìœ **:
```
ë†€ì´ê³µì› ì…ì¥ê¶Œ:
- ì´ë¦„: í™ê¸¸ë™
- ë‚˜ì´: 10ì‚´
- ìœ íš¨ê¸°ê°„: ì˜¤ëŠ˜ í•˜ë£¨
- ë„ì¥: ë†€ì´ê³µì› ì§ì¸
```

**JWT í† í°**:
```json
{
  "ì´ë¦„": "hong@example.com",
  "ê·¸ë£¹": "í•™ìƒ",
  "ìœ íš¨ê¸°ê°„": "2024-11-07 23:59",
  "ë°œê¸‰ì": "Cognito"
}
```

#### ì¶œì…ì¦ ì¢…ë¥˜ (3ê°€ì§€)

**1. ID Token (ì‹ ë¶„ì¦)**:
```
ë‚´ê°€ ëˆ„êµ¬ì¸ì§€ ì•Œë ¤ì£¼ëŠ” ê²ƒ
- ì´ë¦„: hong@example.com
- ë³„ëª…: í™ê¸¸ë™
- ê·¸ë£¹: í•™ìƒ, ê´€ë¦¬ì
```

**2. Access Token (ì¶œì…ì¦)**:
```
ì–´ë”” ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ê²ƒ
- êµì‹¤ ì¶œì… ê°€ëŠ¥
- ë„ì„œê´€ ì¶œì… ê°€ëŠ¥
- ìœ íš¨ê¸°ê°„: 1ì‹œê°„
```

**3. Refresh Token (ì¬ë°œê¸‰ê¶Œ)**:
```
ì¶œì…ì¦ ê¸°ê°„ ëë‚˜ë©´ ìƒˆë¡œ ë°›ëŠ” ê²ƒ
- ì¶œì…ì¦ ë§Œë£Œë˜ë©´
- ì´ê±¸ë¡œ ìƒˆ ì¶œì…ì¦ ë°›ê¸°
- ìœ íš¨ê¸°ê°„: 30ì¼
```

**ê·¸ë¦¼ìœ¼ë¡œ ë³´ê¸°**:
```mermaid
graph TB
    Login[ë¡œê·¸ì¸ ì„±ê³µ] --> T1[ID Token<br/>ì‹ ë¶„ì¦]
    Login --> T2[Access Token<br/>ì¶œì…ì¦]
    Login --> T3[Refresh Token<br/>ì¬ë°œê¸‰ê¶Œ]
    
    T1 --> Use1[ë‚´ ì •ë³´ í™•ì¸]
    T2 --> Use2[API ì‚¬ìš©]
    T3 --> Use3[ì¶œì…ì¦ ì¬ë°œê¸‰]
    
    style Login fill:#e8f5e8
    style T1 fill:#e3f2fd
    style T2 fill:#fff3e0
    style T3 fill:#ffebee
```

#### ì¶œì…ì¦ ì‚¬ìš©í•˜ê¸°

**API ìš”ì²­í•  ë•Œ**:
```
ìš”ì²­:
GET /order
Authorization: Bearer <ì¶œì…ì¦>
    â†“
API Gateway:
"ì¶œì…ì¦ í™•ì¸... ì§„ì§œë„¤ìš”! ë“¤ì–´ì˜¤ì„¸ìš”"
    â†“
Lambda ì‹¤í–‰
```

**ì¶œì…ì¦ ë§Œë£Œë˜ë©´**:
```
1ì‹œê°„ í›„:
"ì¶œì…ì¦ ê¸°ê°„ ëë‚¬ì–´ìš”"
    â†“
Refresh Tokenìœ¼ë¡œ ìƒˆ ì¶œì…ì¦ ë°›ê¸°
    â†“
ìƒˆ ì¶œì…ì¦ìœ¼ë¡œ ë‹¤ì‹œ ì‚¬ìš©
```

---

## ğŸ’­ í•¨ê»˜ ìƒê°í•´ë³´ê¸° (5ë¶„)

### ğŸ¤ í˜ì–´ í† ë¡  (3ë¶„)

**í† ë¡  ì£¼ì œ**:
1. "í•™êµ í•™ìƒì¦ì€ ì–´ë–¤ ì •ë³´ê°€ ìˆë‚˜ìš”?"
2. "ë¡œê·¸ì¸ ì—†ì´ ì‚¬ìš©í•˜ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìƒê¸¸ê¹Œìš”?"
3. "êµ¬ê¸€ ë¡œê·¸ì¸ì´ í¸í•œ ì´ìœ ëŠ” ë­˜ê¹Œìš”?"

**í˜ì–´ í™œë™ ê°€ì´ë“œ**:
- ğŸ‘¥ ì˜† ì‚¬ëŒê³¼ ì´ì•¼ê¸°í•˜ê¸°
- ğŸ”„ ê°ì 1ë¶„ì”© ì„¤ëª…í•˜ê¸°
- ğŸ“ ì¤‘ìš”í•œ ì  ë©”ëª¨í•˜ê¸°

### ğŸ¯ ì „ì²´ ê³µìœ  (2ë¶„)

**ì§ˆë¬¸**:
- "Cognitoë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•˜ë©´?"
- "User Poolê³¼ Identity Poolì˜ ì°¨ì´ëŠ”?"
- "JWT í† í°ì€ ì™œ í•„ìš”í• ê¹Œìš”?"

### ğŸ’¡ ì´í•´ë„ ì²´í¬ ì§ˆë¬¸

- âœ… "Cognitoê°€ ë­í•˜ëŠ” ê±´ì§€ ì„¤ëª…í•  ìˆ˜ ìˆë‚˜ìš”?"
- âœ… "ë¡œê·¸ì¸ ê³¼ì •ì„ ìˆœì„œëŒ€ë¡œ ë§í•  ìˆ˜ ìˆë‚˜ìš”?"
- âœ… "ì¶œì…ì¦(JWT)ì´ ë­”ì§€ ì•Œê² ë‚˜ìš”?"

---

## ğŸ”‘ í•µì‹¬ í‚¤ì›Œë“œ

**ìƒˆë¡œìš´ ìš©ì–´** (ì‰½ê²Œ ì„¤ëª…):
- **Cognito**: AWSê°€ ë§Œë“¤ì–´ì£¼ëŠ” ë¡œê·¸ì¸ ì‹œìŠ¤í…œ
- **User Pool**: ë¡œê·¸ì¸ìš© (í•™ìƒì¦ ë°œê¸‰)
- **Identity Pool**: AWS ì ‘ê·¼ìš© (ëŒ€ì¶œì¦ ë°œê¸‰)
- **JWT í† í°**: ë¡œê·¸ì¸í•˜ë©´ ë°›ëŠ” ì¶œì…ì¦
- **ì†Œì…œ ë¡œê·¸ì¸**: êµ¬ê¸€, í˜ì´ìŠ¤ë¶ìœ¼ë¡œ ë¡œê·¸ì¸

**ì¤‘ìš” ê°œë…**:
- **íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸ â†’ ì¶œì…ì¦**: 3ë‹¨ê³„ ê³¼ì •
- **ë‘ ê°€ì§€ Pool**: ë¡œê·¸ì¸ìš© vs AWS ì ‘ê·¼ìš©
- **3ê°€ì§€ í† í°**: ì‹ ë¶„ì¦, ì¶œì…ì¦, ì¬ë°œê¸‰ê¶Œ

---

## ğŸ“ Session ë§ˆë¬´ë¦¬

### âœ… ì˜¤ëŠ˜ Session ì„±ê³¼
- [ ] Cognitoê°€ ë­”ì§€ ì´í•´í–ˆì–´ìš”
- [ ] ì™œ í•„ìš”í•œì§€ ì•Œì•˜ì–´ìš”
- [ ] User Poolê³¼ Identity Pool ì°¨ì´ë¥¼ ì•Œì•˜ì–´ìš”
- [ ] ë¡œê·¸ì¸ ê³¼ì •ì„ ì´í•´í–ˆì–´ìš”
- [ ] JWT í† í°ì´ ë­”ì§€ ì•Œì•˜ì–´ìš”

### ğŸ¯ ë‹¤ìŒ Session ì¤€ë¹„
- **Session 3**: Terraform ëª…ë ¹ì–´
- **ì—°ê²°**: Cognitoë¥¼ Terraformìœ¼ë¡œ ë§Œë“¤ê¸°
- **ì¤€ë¹„**: ì½”ë“œë¡œ ë§Œë“œëŠ” ê²Œ ì™œ ì¢‹ì€ì§€ ìƒê°í•´ë³´ê¸°

---

## ğŸ¤” ì™œ í•„ìš”í•œê°€? (5ë¶„)

### ğŸ’¼ ì‹¤ë¬´ ì‹œë‚˜ë¦¬ì˜¤: ì„œë²„ë¦¬ìŠ¤ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜

**ë¬¸ì œ ìƒí™©**:
```
ì‚¬ìš©ì ì¸ì¦ì´ í•„ìš”í•œ API
    â†“
ì§ì ‘ êµ¬í˜„í•˜ë©´?
- íšŒì›ê°€ì…/ë¡œê·¸ì¸ ë¡œì§
- ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
- JWT í† í° ë°œê¸‰/ê²€ì¦
- ì´ë©”ì¼ ì¸ì¦
- ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- MFA (ë‹¤ì¤‘ ì¸ì¦)
- ì†Œì…œ ë¡œê·¸ì¸ (Google, Facebook)
---
ê°œë°œ ì‹œê°„: ìˆ˜ì£¼ ~ ìˆ˜ê°œì›” ğŸ˜±
```

**Cognito ì‚¬ìš© ì‹œ**:
```
Cognito User Pool (ê´€ë¦¬í˜• ì„œë¹„ìŠ¤)
    â†“
ëª¨ë“  ê¸°ëŠ¥ ì œê³µ:
- âœ… íšŒì›ê°€ì…/ë¡œê·¸ì¸ (ìë™)
- âœ… ë¹„ë°€ë²ˆí˜¸ ì •ì±… (ì„¤ì •ë§Œ)
- âœ… JWT í† í° (ìë™ ë°œê¸‰)
- âœ… ì´ë©”ì¼/SMS ì¸ì¦ (ìë™)
- âœ… ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • (ìë™)
- âœ… MFA (ì„¤ì •ë§Œ)
- âœ… ì†Œì…œ ë¡œê·¸ì¸ (ì—°ë™ë§Œ)
---
ê°œë°œ ì‹œê°„: ìˆ˜ì‹œê°„ ~ ìˆ˜ì¼ âœ…
```

### ğŸ  ì‹¤ìƒí™œ ë¹„ìœ 

**í˜¸í…” í”„ë¡ íŠ¸ ë°ìŠ¤í¬ + íšŒì› ì‹œìŠ¤í…œ**:
- **Cognito**: í˜¸í…” íšŒì› ì‹œìŠ¤í…œ (ê°€ì…, ë¡œê·¸ì¸, íšŒì› ì •ë³´)
- **API Gateway**: í”„ë¡ íŠ¸ ë°ìŠ¤í¬ (íšŒì› í™•ì¸ í›„ ì…ì¥)
- **Lambda/ECS**: í˜¸í…” ì„œë¹„ìŠ¤ (ë£¸ì„œë¹„ìŠ¤, ì»¨ì‹œì–´ì§€)

---

## ğŸ“– í•µì‹¬ ê°œë… (30ë¶„)

### ğŸ” ê°œë… 1: User Pool vs Identity Pool (10ë¶„)

> **ì •ì˜** (AWS ê³µì‹): CognitoëŠ” ë‘ ê°€ì§€ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤ - User Pool (ì‚¬ìš©ì ì¸ì¦)ê³¼ Identity Pool (AWS ë¦¬ì†ŒìŠ¤ ì ‘ê·¼).

#### User Pool (ì‚¬ìš©ì ì¸ì¦)

**ì—­í• **: ì‚¬ìš©ì ë””ë ‰í† ë¦¬ + ì¸ì¦ ì„œë²„

**ì£¼ìš” ê¸°ëŠ¥**:
1. **íšŒì›ê°€ì…/ë¡œê·¸ì¸**: ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, ì‚¬ìš©ìëª…
2. **JWT í† í° ë°œê¸‰**: ID Token, Access Token, Refresh Token
3. **ì†Œì…œ ë¡œê·¸ì¸**: Google, Facebook, Apple, Amazon
4. **MFA**: SMS, TOTP (Google Authenticator)
5. **ì‚¬ìš©ì ê´€ë¦¬**: í”„ë¡œí•„, ê·¸ë£¹, ì†ì„±

**ì‚¬ìš© ì‚¬ë¡€**:
- ì›¹/ëª¨ë°”ì¼ ì•± ë¡œê·¸ì¸
- API ì¸ì¦ (API Gateway í†µí•©)
- SSO (Single Sign-On)

#### Identity Pool (AWS ë¦¬ì†ŒìŠ¤ ì ‘ê·¼)

**ì—­í• **: AWS ì„ì‹œ ìê²© ì¦ëª… ë°œê¸‰

**ì£¼ìš” ê¸°ëŠ¥**:
1. **AWS Credentials ë°œê¸‰**: AccessKeyId, SecretAccessKey, SessionToken
2. **ì—­í•  ê¸°ë°˜ ì ‘ê·¼**: IAM Role ë§¤í•‘
3. **ìµëª… ì ‘ê·¼**: ë¡œê·¸ì¸ ì—†ì´ ì œí•œì  ì ‘ê·¼

**ì‚¬ìš© ì‚¬ë¡€**:
- S3 ì§ì ‘ ì—…ë¡œë“œ (í´ë¼ì´ì–¸íŠ¸ â†’ S3)
- DynamoDB ì§ì ‘ ì ‘ê·¼
- ëª¨ë°”ì¼ ì•±ì—ì„œ AWS SDK ì‚¬ìš©

#### ë¹„êµí‘œ

| íŠ¹ì§• | User Pool | Identity Pool |
|------|-----------|---------------|
| **ëª©ì ** | ì‚¬ìš©ì ì¸ì¦ | AWS ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ |
| **ë°œê¸‰** | JWT í† í° | AWS Credentials |
| **ì‚¬ìš©ì²˜** | API Gateway, ì•± | AWS SDK, S3, DynamoDB |
| **ì†Œì…œ ë¡œê·¸ì¸** | âœ… ì§ì ‘ ì§€ì› | âœ… User Pool í†µí•´ |
| **ìµëª… ì ‘ê·¼** | âŒ | âœ… |
| **ë¹„ìš©** | MAU ê¸°ë°˜ | ë¬´ë£Œ (AWS ë¦¬ì†ŒìŠ¤ ë¹„ìš©ë§Œ) |

**ì¼ë°˜ì ì¸ ì¡°í•©**:
```mermaid
graph TB
    User[ì‚¬ìš©ì] --> UP[User Pool<br/>ë¡œê·¸ì¸]
    UP --> JWT[JWT í† í°]
    JWT --> APIGW[API Gateway<br/>ì¸ì¦]
    
    UP --> IP[Identity Pool<br/>AWS ìê²©ì¦ëª…]
    IP --> S3[S3 ì§ì ‘ ì—…ë¡œë“œ]
    
    style User fill:#e3f2fd
    style UP fill:#fff3e0
    style JWT fill:#e8f5e8
    style APIGW fill:#f3e5f5
    style IP fill:#ffebee
    style S3 fill:#e3f2fd
```

### ğŸ” ê°œë… 2: ì¸ì¦ íë¦„ ë° JWT í† í° (10ë¶„)

#### ì „ì²´ ì¸ì¦ íë¦„

**Phase 1: íšŒì›ê°€ì…**
```
Client â†’ Cognito.signUp(email, password)
         â†“
    User Poolì— ì‚¬ìš©ì ìƒì„±
         â†“
    ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ ë°œì†¡
         â†“
Client â†’ Cognito.confirmSignUp(code)
         â†“
    ì‚¬ìš©ì í™œì„±í™” ì™„ë£Œ
```

**Phase 2: ë¡œê·¸ì¸**
```
Client â†’ Cognito.signIn(email, password)
         â†“
    ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
         â†“
    JWT í† í° ë°œê¸‰:
    - ID Token (ì‚¬ìš©ì ì •ë³´)
    - Access Token (ê¶Œí•œ)
    - Refresh Token (ê°±ì‹ ìš©)
         â†“
Client (localStorageì— ì €ì¥)
```

**Phase 3: API í˜¸ì¶œ**
```
Client â†’ API Gateway
         â†“
    Authorization: Bearer <ID Token>
         â†“
    API Gatewayê°€ Cognitoì— ìë™ ê²€ì¦
    (User Pool IDë§Œ ì„¤ì •í•˜ë©´ ìë™)
         â†“
    ê²€ì¦ ì„±ê³µ â†’ Lambda/ECS/EKS
         â†“
    Lambdaì—ì„œ ì‚¬ìš©ì ì •ë³´ ì‚¬ìš©
```

#### JWT í† í° êµ¬ì¡°

**ID Token** (ì‚¬ìš©ì ì •ë³´):
```json
{
  "sub": "user-uuid-1234",
  "email": "user@example.com",
  "email_verified": true,
  "cognito:username": "john",
  "cognito:groups": ["admin", "users"],
  "custom:nickname": "Johnny",
  "iss": "https://cognito-idp.ap-northeast-2.amazonaws.com/...",
  "exp": 1699000000,
  "iat": 1698996400
}
```

**Access Token** (ê¶Œí•œ):
```json
{
  "sub": "user-uuid-1234",
  "scope": "openid profile email",
  "cognito:groups": ["admin"],
  "iss": "https://cognito-idp.ap-northeast-2.amazonaws.com/...",
  "exp": 1699000000,
  "iat": 1698996400
}
```

**Refresh Token** (ê°±ì‹ ìš©):
- ê¸´ ìœ íš¨ê¸°ê°„ (ê¸°ë³¸ 30ì¼)
- ìƒˆë¡œìš´ ID/Access Token ë°œê¸‰ìš©
- ë³´ì•ˆìƒ ì¤‘ìš” (ì•ˆì „í•˜ê²Œ ì €ì¥)

#### Lambdaì—ì„œ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ

```python
def lambda_handler(event, context):
    # API Gatewayê°€ ê²€ì¦í•œ ì‚¬ìš©ì ì •ë³´ (ìë™)
    claims = event['requestContext']['authorizer']['claims']
    
    user_id = claims['sub']
    email = claims['email']
    username = claims['cognito:username']
    groups = claims.get('cognito:groups', '').split(',')
    
    # ê¶Œí•œ í™•ì¸
    if 'admin' not in groups:
        return {
            'statusCode': 403,
            'body': json.dumps({'error': 'Forbidden'})
        }
    
    # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    return {
        'statusCode': 200,
        'body': json.dumps({
            'userId': user_id,
            'email': email
        })
    }
```

### ğŸ” ê°œë… 3: ì‚¬ìš©ì ë°ì´í„° ì €ì¥ ì „ëµ (10ë¶„)

#### ì˜µì…˜ 1: Cognitoë§Œ ì‚¬ìš© (ê°„ë‹¨í•œ ì•±)

**Cognito User Pool ì†ì„±**:
```
í‘œì¤€ ì†ì„± (OIDC í‘œì¤€):
- email, email_verified
- phone_number, phone_number_verified
- name, family_name, given_name
- birthdate, gender
- address, locale, zoneinfo

Custom ì†ì„± (ìµœëŒ€ 50ê°œ):
- custom:nickname
- custom:age
- custom:preferences
- custom:avatar_url
```

**ì¥ì **:
- âœ… ë³„ë„ DB ë¶ˆí•„ìš”
- âœ… JWTì— ìë™ í¬í•¨
- âœ… ê´€ë¦¬ ê°„í¸

**ë‹¨ì **:
- âŒ ë³µì¡í•œ ì¿¼ë¦¬ ë¶ˆê°€
- âŒ ê´€ê³„í˜• ë°ì´í„° ì–´ë ¤ì›€
- âŒ ì†ì„± ë³€ê²½ ì œí•œì 

#### ì˜µì…˜ 2: Cognito + DynamoDB (ê¶Œì¥)

**ë°ì´í„° ë¶„ë¦¬ ì „ëµ**:

```mermaid
graph TB
    subgraph "Cognito User Pool"
        A[ì¸ì¦ ì •ë³´]
        A1[ì´ë©”ì¼]
        A2[ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ]
        A3[ì „í™”ë²ˆí˜¸]
        A4[MFA ì„¤ì •]
    end
    
    subgraph "DynamoDB"
        subgraph "Users í…Œì´ë¸”"
            B1[userId PK]
            B2[nickname]
            B3[avatar]
            B4[bio]
            B5[preferences]
        end
        
        subgraph "Orders í…Œì´ë¸”"
            C1[orderId PK]
            C2[userId FK]
            C3[items]
            C4[createdAt]
        end
        
        subgraph "Posts í…Œì´ë¸”"
            D1[postId PK]
            D2[userId FK]
            D3[content]
            D4[createdAt]
        end
    end
    
    A --> A1
    A --> A2
    A --> A3
    A --> A4
    
    B1 -.Cognito sub.- A
    C2 -.Cognito sub.- A
    D2 -.Cognito sub.- A
    
    style A fill:#ff9800
    style A1 fill:#fff3e0
    style A2 fill:#fff3e0
    style A3 fill:#fff3e0
    style A4 fill:#fff3e0
    style B1 fill:#e8f5e8
    style B2 fill:#e8f5e8
    style B3 fill:#e8f5e8
    style B4 fill:#e8f5e8
    style B5 fill:#e8f5e8
    style C1 fill:#e3f2fd
    style C2 fill:#e3f2fd
    style C3 fill:#e3f2fd
    style C4 fill:#e3f2fd
    style D1 fill:#f3e5f5
    style D2 fill:#f3e5f5
    style D3 fill:#f3e5f5
    style D4 fill:#f3e5f5
```

*ê·¸ë¦¼: Cognito + DynamoDB ë°ì´í„° ì „ëµ - ì¸ì¦ì€ Cognito, í”„ë¡œí•„/í™œë™ ë°ì´í„°ëŠ” DynamoDB*
                            â”œâ”€â”€ postId â† PK
                            â”œâ”€â”€ userId â† FK (Cognito sub)
                            â””â”€â”€ content
```

**Lambda êµ¬í˜„ ì˜ˆì‹œ**:
```python
import boto3
import json

dynamodb = boto3.resource('dynamodb')
users_table = dynamodb.Table('Users')

def lambda_handler(event, context):
    # 1. Cognitoì—ì„œ ê²€ì¦ëœ ì‚¬ìš©ì ì •ë³´ (ìë™)
    user_id = event['requestContext']['authorizer']['claims']['sub']
    email = event['requestContext']['authorizer']['claims']['email']
    
    # 2. DynamoDBì—ì„œ ì¶”ê°€ í”„ë¡œí•„ ì¡°íšŒ
    response = users_table.get_item(Key={'userId': user_id})
    
    if 'Item' not in response:
        # ì²« ë¡œê·¸ì¸ ì‹œ í”„ë¡œí•„ ìƒì„±
        users_table.put_item(Item={
            'userId': user_id,
            'email': email,
            'nickname': email.split('@')[0],
            'createdAt': datetime.now().isoformat()
        })
        profile = {'nickname': email.split('@')[0]}
    else:
        profile = response['Item']
    
    # 3. í†µí•© ì‘ë‹µ
    return {
        'statusCode': 200,
        'body': json.dumps({
            'userId': user_id,
            'email': email,
            'profile': profile
        })
    }
```

**ì¥ì **:
- âœ… ë³µì¡í•œ ì¿¼ë¦¬ ê°€ëŠ¥
- âœ… ê´€ê³„í˜• ë°ì´í„° ì§€ì›
- âœ… ë¬´ì œí•œ ì†ì„±
- âœ… í™•ì¥ì„± ë†’ìŒ

**ë‹¨ì **:
- âš ï¸ ì¶”ê°€ DB ê´€ë¦¬ í•„ìš”
- âš ï¸ ë°ì´í„° ë™ê¸°í™” ê³ ë ¤

#### ì˜µì…˜ 3: Cognito + RDS (ë³µì¡í•œ ì•±)

**ì‚¬ìš© ì‚¬ë¡€**:
- ë³µì¡í•œ ê´€ê³„í˜• ë°ì´í„°
- íŠ¸ëœì­ì…˜ í•„ìš”
- ê¸°ì¡´ RDS ì¸í”„ë¼ í™œìš©

**êµ¬ì¡°**:
```sql
-- Users í…Œì´ë¸”
CREATE TABLE users (
    user_id VARCHAR(255) PRIMARY KEY,  -- Cognito sub
    email VARCHAR(255) UNIQUE,
    nickname VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Orders í…Œì´ë¸”
CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    user_id VARCHAR(255) REFERENCES users(user_id),
    total_amount DECIMAL(10, 2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## ğŸ’° ë¹„ìš© êµ¬ì¡° (5ë¶„)

### Feature Plans (2024ë…„ 11ì›” ì‹ ê·œ)

**Lite** (ì €ë¹„ìš©):
- ê¸°ë³¸ ì¸ì¦ ê¸°ëŠ¥
- ì†Œì…œ ë¡œê·¸ì¸
- MFA (SMS, TOTP)

**Essentials** (ê¸°ë³¸, ê¶Œì¥):
- Lite ê¸°ëŠ¥ ì „ì²´
- Managed Login (í˜¸ìŠ¤íŒ… UI)
- Passwordless ë¡œê·¸ì¸
- Access Token ì»¤ìŠ¤í„°ë§ˆì´ì§•

**Plus** (ê³ ê¸‰ ë³´ì•ˆ):
- Essentials ê¸°ëŠ¥ ì „ì²´
- ìœ„í—˜ ê¸°ë°˜ ì¸ì¦
- ì†ìƒëœ ìê²© ì¦ëª… ê°ì§€
- ì‚¬ìš©ì í™œë™ ë¡œê·¸

### ê°€ê²© (ap-northeast-2)

**Essentials (ê¸°ë³¸)**:
```
í”„ë¦¬í‹°ì–´ (12ê°œì›”):
- 10,000 MAU/ì›” (ì§ì ‘ ë¡œê·¸ì¸ + ì†Œì…œ)
- 50 MAU/ì›” (SAML/OIDC í˜ë”ë ˆì´ì…˜)

ìœ ë£Œ:
- ì²« 10,000 MAU: ë¬´ë£Œ
- ë‹¤ìŒ 40,000 MAU: $0.0055/MAU
- ë‹¤ìŒ 950,000 MAU: $0.0046/MAU
- 1M MAU ì´ˆê³¼: $0.00325/MAU
```

**Plus (ê³ ê¸‰ ë³´ì•ˆ)**:
```
- ì²« 10,000 MAU: ë¬´ë£Œ
- ë‹¤ìŒ 40,000 MAU: $0.0110/MAU
- ë‹¤ìŒ 950,000 MAU: $0.0092/MAU
- 1M MAU ì´ˆê³¼: $0.0065/MAU
```

### ì‹¤ì œ ë¹„ìš© ê³„ì‚°

**ì‹œë‚˜ë¦¬ì˜¤**: ì›” 10ë§Œ ëª… í™œì„± ì‚¬ìš©ì

**Essentials**:
```
ì²« 10,000 MAU: $0 (ë¬´ë£Œ)
ë‹¤ìŒ 40,000 MAU: 40,000 Ã— $0.0055 = $220
ë‹¤ìŒ 50,000 MAU: 50,000 Ã— $0.0046 = $230
---
ì´ ë¹„ìš©: $450/ì›”
```

**Plus**:
```
ì²« 10,000 MAU: $0 (ë¬´ë£Œ)
ë‹¤ìŒ 40,000 MAU: 40,000 Ã— $0.0110 = $440
ë‹¤ìŒ 50,000 MAU: 50,000 Ã— $0.0092 = $460
---
ì´ ë¹„ìš©: $900/ì›”
```

### ì¶”ê°€ ë¹„ìš©

**SMS MFA**:
- $0.00645/SMS (ap-northeast-2)
- ì›” 10,000ê±´: $64.50

**ì´ë©”ì¼ (SES í†µí•©)**:
- $0.10/1,000ê±´
- ì›” 100,000ê±´: $10

### ë¹„ìš© ìµœì í™” íŒ

1. **MAU ìµœì†Œí™”**: ë¹„í™œì„± ì‚¬ìš©ì ìë™ ì •ë¦¬
2. **ì†Œì…œ ë¡œê·¸ì¸ í™œìš©**: SMS ë¹„ìš© ì ˆê°
3. **í† í° ìœ íš¨ê¸°ê°„ ìµœì í™”**: Refresh Token í™œìš©
4. **Feature Plan ì„ íƒ**: í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì„ íƒ

---

## ğŸ”‘ í•µì‹¬ í‚¤ì›Œë“œ

- **User Pool**: ì‚¬ìš©ì ë””ë ‰í† ë¦¬ + ì¸ì¦ ì„œë²„
- **Identity Pool**: AWS ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ìê²© ì¦ëª…
- **JWT**: JSON Web Token (ID, Access, Refresh)
- **MAU**: Monthly Active Users (ê³¼ê¸ˆ ê¸°ì¤€)
- **MFA**: Multi-Factor Authentication
- **Cognito sub**: ì‚¬ìš©ì ê³ ìœ  ID (UUID)
- **Custom Attributes**: ì‚¬ìš©ì ì •ì˜ ì†ì„± (ìµœëŒ€ 50ê°œ)
- **Managed Login**: Cognito í˜¸ìŠ¤íŒ… UI

---

## ğŸ“ Session ë§ˆë¬´ë¦¬

### âœ… ì˜¤ëŠ˜ Session ì„±ê³¼
- [ ] User Pool vs Identity Pool ì°¨ì´ ì´í•´
- [ ] JWT í† í° êµ¬ì¡° ë° ê²€ì¦ ë°©ì‹ íŒŒì•…
- [ ] ì¸ì¦ íë¦„ (íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸ â†’ API í˜¸ì¶œ) ì´í•´
- [ ] ì‚¬ìš©ì ë°ì´í„° ì €ì¥ ì „ëµ ìŠµë“
- [ ] API Gateway + Cognito í†µí•© ë°©ë²• íŒŒì•…

### ğŸ¯ ë‹¤ìŒ Session ì¤€ë¹„
- **Session 3**: Terraform ê¸°ë³¸ ëª…ë ¹ì–´
- **Lab 1**: Cognito + API Gateway + Lambda í†µí•© ì‹¤ìŠµ

### ğŸ”— ê³µì‹ ë¬¸ì„œ (í•„ìˆ˜)

**âš ï¸ í•™ìƒë“¤ì´ ì§ì ‘ í™•ì¸í•´ì•¼ í•  ê³µì‹ ë¬¸ì„œ**:
- ğŸ“˜ [Cognitoë€?](https://docs.aws.amazon.com/cognito/latest/developerguide/what-is-amazon-cognito.html)
- ğŸ“— [User Pool ì‚¬ìš©ì ê°€ì´ë“œ](https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-identity-pools.html)
- ğŸ“™ [JWT í† í° ê²€ì¦](https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-verifying-a-jwt.html)
- ğŸ“• [Cognito ìš”ê¸ˆ](https://aws.amazon.com/cognito/pricing/)
- ğŸ†• [Cognito ìµœì‹  ì—…ë°ì´íŠ¸](https://aws.amazon.com/about-aws/whats-new/cognito/)

---

<div align="center">

**ğŸ‘¤ ì‚¬ìš©ì ê´€ë¦¬** â€¢ **ğŸ” JWT ì¸ì¦** â€¢ **ğŸ’° ë¹„ìš© íš¨ìœ¨** â€¢ **ğŸ”— API Gateway í†µí•©**

*ë‹¤ìŒ: Session 3 - Terraform ê¸°ë³¸ ëª…ë ¹ì–´*

</div>
