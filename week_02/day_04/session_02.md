# Session 2: ì—…ê·¸ë ˆì´ë“œ ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

## ğŸ“ êµê³¼ê³¼ì •ì—ì„œì˜ ìœ„ì¹˜
ì´ ì„¸ì…˜ì€ **Week 2 > Day 4 > Session 2**ë¡œ, í´ëŸ¬ìŠ¤í„° ìš´ì˜ ê´€ë¦¬ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ Kubernetes í´ëŸ¬ìŠ¤í„°ì˜ ì•ˆì „í•œ ì—…ê·¸ë ˆì´ë“œì™€ ì›Œí¬ë¡œë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµì„ ì‹¬í™” ë¶„ì„í•©ë‹ˆë‹¤.

## í•™ìŠµ ëª©í‘œ (5ë¶„)
- **Kubernetes ë²„ì „ ì—…ê·¸ë ˆì´ë“œ** ì „ëµê³¼ **í˜¸í™˜ì„± ê´€ë¦¬** ë°©ë²•
- **ì›Œí¬ë¡œë“œ ë§ˆì´ê·¸ë ˆì´ì…˜** ê¸°ë²•ê³¼ **ë¬´ì¤‘ë‹¨ ì „í™˜** ì „ëµ
- **ë¡¤ë°± ê³„íš** ë° **ë¦¬ìŠ¤í¬ ê´€ë¦¬** ë°©ë²•ë¡  ìˆ˜ë¦½

## 1. ì´ë¡ : Kubernetes ë²„ì „ ì—…ê·¸ë ˆì´ë“œ ì „ëµ (20ë¶„)

### ì—…ê·¸ë ˆì´ë“œ ê³„íš ë° ì¤€ë¹„

```mermaid
graph TB
    subgraph "Upgrade Planning"
        A[Version Analysis] --> B[Compatibility Check]
        B --> C[Risk Assessment]
        C --> D[Rollback Plan]
    end
    
    subgraph "Upgrade Process"
        E[Control Plane] --> F[Worker Nodes]
        F --> G[Add-ons]
        G --> H[Validation]
    end
    
    subgraph "Post-Upgrade"
        I[Testing] --> J[Monitoring]
        J --> K[Documentation]
    end
    
    D --> E
    H --> I
```

### ë²„ì „ í˜¸í™˜ì„± ë° ì—…ê·¸ë ˆì´ë“œ ê²½ë¡œ

```
Kubernetes ì—…ê·¸ë ˆì´ë“œ ì „ëµ:

ë²„ì „ í˜¸í™˜ì„± ë¶„ì„:
â”œâ”€â”€ Kubernetes ë²„ì „ ì •ì±…:
â”‚   â”œâ”€â”€ ë§ˆì´ë„ˆ ë²„ì „ ê°„ í˜¸í™˜ì„± (n-2 ì§€ì›)
â”‚   â”œâ”€â”€ API ë²„ì „ ì§€ì› ì •ì±…
â”‚   â”œâ”€â”€ ê¸°ëŠ¥ ê²Œì´íŠ¸ ìƒëª…ì£¼ê¸°
â”‚   â”œâ”€â”€ ì‚¬ìš© ì¤‘ë‹¨ ì •ì±… (Deprecation Policy)
â”‚   â””â”€â”€ ë³´ì•ˆ íŒ¨ì¹˜ ë° ë°±í¬íŠ¸
â”œâ”€â”€ ì»´í¬ë„ŒíŠ¸ í˜¸í™˜ì„±:
â”‚   â”œâ”€â”€ kubelet ë²„ì „ ìŠ¤í ì •ì±…
â”‚   â”œâ”€â”€ kube-proxy í˜¸í™˜ì„±
â”‚   â”œâ”€â”€ kubectl í´ë¼ì´ì–¸íŠ¸ í˜¸í™˜ì„±
â”‚   â”œâ”€â”€ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì§€ì›
â”‚   â””â”€â”€ CNI/CSI í”ŒëŸ¬ê·¸ì¸ í˜¸í™˜ì„±
â”œâ”€â”€ ì• í”Œë¦¬ì¼€ì´ì…˜ í˜¸í™˜ì„±:
â”‚   â”œâ”€â”€ API ë²„ì „ ë³€ê²½ ì˜í–¥ ë¶„ì„
â”‚   â”œâ”€â”€ ì‚¬ìš© ì¤‘ë‹¨ëœ API ì‚¬ìš© í˜„í™©
â”‚   â”œâ”€â”€ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ í˜¸í™˜ì„±
â”‚   â”œâ”€â”€ í—¬ë¦„ ì°¨íŠ¸ í˜¸í™˜ì„±
â”‚   â””â”€â”€ ì„œë“œíŒŒí‹° ë„êµ¬ í˜¸í™˜ì„±
â””â”€â”€ ì¸í”„ë¼ í˜¸í™˜ì„±:
    â”œâ”€â”€ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ ì§€ì›
    â”œâ”€â”€ ë„¤íŠ¸ì›Œí¬ í”ŒëŸ¬ê·¸ì¸ í˜¸í™˜ì„±
    â”œâ”€â”€ ìŠ¤í† ë¦¬ì§€ ë“œë¼ì´ë²„ ì§€ì›
    â”œâ”€â”€ ëª¨ë‹ˆí„°ë§ ë„êµ¬ í˜¸í™˜ì„±
    â””â”€â”€ ë³´ì•ˆ ë„êµ¬ í†µí•©

ì—…ê·¸ë ˆì´ë“œ ì¤€ë¹„ ë‹¨ê³„:
â”œâ”€â”€ í˜„ì¬ ìƒíƒœ ë¶„ì„:
â”‚   â”œâ”€â”€ í´ëŸ¬ìŠ¤í„° ë²„ì „ ë° êµ¬ì„± í™•ì¸
â”‚   â”œâ”€â”€ ì›Œí¬ë¡œë“œ ì¸ë²¤í† ë¦¬ ì‘ì„±
â”‚   â”œâ”€â”€ API ì‚¬ìš© í˜„í™© ë¶„ì„
â”‚   â”œâ”€â”€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ í‰ê°€
â”‚   â””â”€â”€ ì˜ì¡´ì„± ë§¤í•‘
â”œâ”€â”€ í˜¸í™˜ì„± ê²€ì¦:
â”‚   â”œâ”€â”€ kubectl convertë¥¼ í†µí•œ API ë³€í™˜ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ ì‚¬ìš© ì¤‘ë‹¨ API ì‹ë³„ ë° ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ ì• ë“œì˜¨ ë° ì˜¤í¼ë ˆì´í„° í˜¸í™˜ì„± í™•ì¸
â”‚   â”œâ”€â”€ ì»¤ìŠ¤í…€ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ í†µí•© í…ŒìŠ¤íŠ¸ ìˆ˜í–‰
â”œâ”€â”€ ë°±ì—… ë° ìŠ¤ëƒ…ìƒ·:
â”‚   â”œâ”€â”€ etcd í´ëŸ¬ìŠ¤í„° ì „ì²´ ë°±ì—…
â”‚   â”œâ”€â”€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ë°±ì—…
â”‚   â”œâ”€â”€ ì„¤ì • íŒŒì¼ ë° ì‹œí¬ë¦¿ ë°±ì—…
â”‚   â”œâ”€â”€ ì¸í”„ë¼ ìƒíƒœ ìŠ¤ëƒ…ìƒ·
â”‚   â””â”€â”€ ë³µêµ¬ ì ˆì°¨ ê²€ì¦
â””â”€â”€ í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì„±:
    â”œâ”€â”€ í”„ë¡œë•ì…˜ ë™ì¼ í™˜ê²½ êµ¬ì„±
    â”œâ”€â”€ ì—…ê·¸ë ˆì´ë“œ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ ì„±ëŠ¥ ë° ì•ˆì •ì„± ê²€ì¦
    â”œâ”€â”€ ë¡¤ë°± ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
    â””â”€â”€ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ê²€ì¦

ì—…ê·¸ë ˆì´ë“œ ì‹¤í–‰ ì „ëµ:
â”œâ”€â”€ ë‹¨ê³„ì  ì—…ê·¸ë ˆì´ë“œ:
â”‚   â”œâ”€â”€ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ìš°ì„  ì—…ê·¸ë ˆì´ë“œ
â”‚   â”œâ”€â”€ ì›Œì»¤ ë…¸ë“œ ìˆœì°¨ ì—…ê·¸ë ˆì´ë“œ
â”‚   â”œâ”€â”€ ì• ë“œì˜¨ ë° ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ì‚¬ìš©ì ì›Œí¬ë¡œë“œ ê²€ì¦
â”‚   â””â”€â”€ ëª¨ë‹ˆí„°ë§ ë° ê²€ì¦
â”œâ”€â”€ ë¸”ë£¨-ê·¸ë¦° ì—…ê·¸ë ˆì´ë“œ:
â”‚   â”œâ”€â”€ ìƒˆë¡œìš´ í´ëŸ¬ìŠ¤í„° êµ¬ì„±
â”‚   â”œâ”€â”€ ì›Œí¬ë¡œë“œ ì ì§„ì  ì´ë™
â”‚   â”œâ”€â”€ íŠ¸ë˜í”½ ì „í™˜ ë° ê²€ì¦
â”‚   â”œâ”€â”€ ê¸°ì¡´ í´ëŸ¬ìŠ¤í„° ìœ ì§€ (ë¡¤ë°±ìš©)
â”‚   â””â”€â”€ ì™„ì „ ì „í™˜ í›„ ì •ë¦¬
â”œâ”€â”€ ì¹´ë‚˜ë¦¬ ì—…ê·¸ë ˆì´ë“œ:
â”‚   â”œâ”€â”€ ì¼ë¶€ ë…¸ë“œë§Œ ì—…ê·¸ë ˆì´ë“œ
â”‚   â”œâ”€â”€ ì œí•œëœ ì›Œí¬ë¡œë“œ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ ì ì§„ì  í™•ëŒ€ ì ìš©
â”‚   â”œâ”€â”€ ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ë¡¤ë°±
â”‚   â””â”€â”€ ì „ì²´ í´ëŸ¬ìŠ¤í„° ì—…ê·¸ë ˆì´ë“œ
â””â”€â”€ ì¸í”Œë ˆì´ìŠ¤ ì—…ê·¸ë ˆì´ë“œ:
    â”œâ”€â”€ ê¸°ì¡´ í´ëŸ¬ìŠ¤í„° ì§ì ‘ ì—…ê·¸ë ˆì´ë“œ
    â”œâ”€â”€ ìµœì†Œ ë‹¤ìš´íƒ€ì„ ëª©í‘œ
    â”œâ”€â”€ ìë™í™”ëœ ì—…ê·¸ë ˆì´ë“œ ë„êµ¬ í™œìš©
    â”œâ”€â”€ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ê²€ì¦
    â””â”€â”€ ë¹ ë¥¸ ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜
```

### ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì—…ê·¸ë ˆì´ë“œ

```
ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì—…ê·¸ë ˆì´ë“œ ì ˆì°¨:

etcd ì—…ê·¸ë ˆì´ë“œ:
â”œâ”€â”€ ë°±ì—… ë° ìŠ¤ëƒ…ìƒ· ìƒì„±
â”œâ”€â”€ ë©¤ë²„ë³„ ìˆœì°¨ ì—…ê·¸ë ˆì´ë“œ
â”œâ”€â”€ í´ëŸ¬ìŠ¤í„° ìƒíƒœ ê²€ì¦
â”œâ”€â”€ ë°ì´í„° ë¬´ê²°ì„± í™•ì¸
â””â”€â”€ ì„±ëŠ¥ ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§

API ì„œë²„ ì—…ê·¸ë ˆì´ë“œ:
â”œâ”€â”€ ë¡œë“œ ë°¸ëŸ°ì„œì—ì„œ ì œê±°
â”œâ”€â”€ ìƒˆ ë²„ì „ìœ¼ë¡œ êµì²´
â”œâ”€â”€ í—¬ìŠ¤ ì²´í¬ í†µê³¼ í™•ì¸
â”œâ”€â”€ ë¡œë“œ ë°¸ëŸ°ì„œì— ì¬ì¶”ê°€
â””â”€â”€ API í˜¸í™˜ì„± ê²€ì¦

ê¸°íƒ€ ì»´í¬ë„ŒíŠ¸:
â”œâ”€â”€ kube-controller-manager
â”œâ”€â”€ kube-scheduler
â”œâ”€â”€ cloud-controller-manager
â”œâ”€â”€ DNS ë° ë„¤íŠ¸ì›Œí¬ ì• ë“œì˜¨
â””â”€â”€ ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ìŠ¤íƒ
```

## 2. ì´ë¡ : ì›Œí¬ë¡œë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ (15ë¶„)

### ë§ˆì´ê·¸ë ˆì´ì…˜ íŒ¨í„´ ë° ì „ëµ

```mermaid
sequenceDiagram
    participant Source as Source Cluster
    participant Migration as Migration Tool
    participant Target as Target Cluster
    participant LB as Load Balancer
    
    Source->>Migration: Export workloads
    Migration->>Target: Import workloads
    Target->>Target: Validate deployment
    Migration->>LB: Update traffic routing
    LB->>Target: Route traffic
    Migration->>Source: Drain workloads
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ ë°©ë²•ë¡ 

```
ì›Œí¬ë¡œë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ:

ë§ˆì´ê·¸ë ˆì´ì…˜ íŒ¨í„´:
â”œâ”€â”€ Lift and Shift:
â”‚   â”œâ”€â”€ ìµœì†Œí•œì˜ ë³€ê²½ìœ¼ë¡œ ì´ë™
â”‚   â”œâ”€â”€ ê¸°ì¡´ êµ¬ì„± ê·¸ëŒ€ë¡œ ë³µì œ
â”‚   â”œâ”€â”€ ë¹ ë¥¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥
â”‚   â”œâ”€â”€ ìµœì í™” ê¸°íšŒ ì œí•œ
â”‚   â””â”€â”€ í˜¸í™˜ì„± ë¬¸ì œ ê°€ëŠ¥ì„±
â”œâ”€â”€ Re-platforming:
â”‚   â”œâ”€â”€ í”Œë«í¼ íŠ¹í™” ìµœì í™”
â”‚   â”œâ”€â”€ í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê¸°ëŠ¥ í™œìš©
â”‚   â”œâ”€â”€ ì„±ëŠ¥ ë° ë¹„ìš© ìµœì í™”
â”‚   â”œâ”€â”€ ì¤‘ê°„ ìˆ˜ì¤€ì˜ ë³€ê²½ í•„ìš”
â”‚   â””â”€â”€ ì ì§„ì  ê°œì„  ê°€ëŠ¥
â”œâ”€â”€ Refactoring:
â”‚   â”œâ”€â”€ ì•„í‚¤í…ì²˜ ì¬ì„¤ê³„
â”‚   â”œâ”€â”€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¶„í•´
â”‚   â”œâ”€â”€ í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ íŒ¨í„´ ì ìš©
â”‚   â”œâ”€â”€ ë†’ì€ ë³€ê²½ ë¹„ìš©
â”‚   â””â”€â”€ ì¥ê¸°ì  ì´ìµ ê·¹ëŒ€í™”
â””â”€â”€ Hybrid Approach:
    â”œâ”€â”€ ì›Œí¬ë¡œë“œë³„ ì°¨ë³„í™” ì „ëµ
    â”œâ”€â”€ ìœ„í—˜ë„ ê¸°ë°˜ ì ‘ê·¼ë²•
    â”œâ”€â”€ ë‹¨ê³„ì  í˜„ëŒ€í™”
    â”œâ”€â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ì—°ì†ì„± ë³´ì¥
    â””â”€â”€ ì ì§„ì  íˆ¬ì íšŒìˆ˜

ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜:
â”œâ”€â”€ ìƒíƒœ ë¹„ì €ì¥ ì›Œí¬ë¡œë“œ:
â”‚   â”œâ”€â”€ ì„¤ì • ë° ì‹œí¬ë¦¿ ì´ë™
â”‚   â”œâ”€â”€ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë™ê¸°í™”
â”‚   â”œâ”€â”€ ë„¤íŠ¸ì›Œí¬ ì •ì±… ë³µì œ
â”‚   â”œâ”€â”€ RBAC ê¶Œí•œ ë§¤í•‘
â”‚   â””â”€â”€ ëª¨ë‹ˆí„°ë§ ì„¤ì • ì´ì „
â”œâ”€â”€ ìƒíƒœ ìœ ì§€ ì›Œí¬ë¡œë“œ:
â”‚   â”œâ”€â”€ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ ë³¼ë¥¨ ë°ì´í„° ë³µì œ
â”‚   â”œâ”€â”€ ë°±ì—… ë° ë³µì› ì „ëµ
â”‚   â”œâ”€â”€ ë°ì´í„° ì¼ê´€ì„± ë³´ì¥
â”‚   â””â”€â”€ ë‹¤ìš´íƒ€ì„ ìµœì†Œí™”
â”œâ”€â”€ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±:
â”‚   â”œâ”€â”€ ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ ì—…ë°ì´íŠ¸
â”‚   â”œâ”€â”€ ë¡œë“œ ë°¸ëŸ°ì„œ ì¬êµ¬ì„±
â”‚   â”œâ”€â”€ DNS ë ˆì½”ë“œ ì—…ë°ì´íŠ¸
â”‚   â”œâ”€â”€ ë°©í™”ë²½ ê·œì¹™ ì¡°ì •
â”‚   â””â”€â”€ ì¸ì¦ì„œ ë° TLS ì„¤ì •
â””â”€â”€ ë³´ì•ˆ ì •ì±…:
    â”œâ”€â”€ RBAC ì •ì±… ì´ì „
    â”œâ”€â”€ ë„¤íŠ¸ì›Œí¬ ì •ì±… ì ìš©
    â”œâ”€â”€ Pod ë³´ì•ˆ í‘œì¤€ ì„¤ì •
    â”œâ”€â”€ ì‹œí¬ë¦¿ ë° í‚¤ ê´€ë¦¬
    â””â”€â”€ ê°ì‚¬ ë¡œê·¸ ì„¤ì •

ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬:
â”œâ”€â”€ Velero:
â”‚   â”œâ”€â”€ í´ëŸ¬ìŠ¤í„° ë°±ì—… ë° ë³µì›
â”‚   â”œâ”€â”€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‹¨ìœ„ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ ë³¼ë¥¨ ìŠ¤ëƒ…ìƒ· ì§€ì›
â”‚   â”œâ”€â”€ ìŠ¤ì¼€ì¤„ëœ ë°±ì—…
â”‚   â””â”€â”€ ì¬í•´ ë³µêµ¬ ì§€ì›
â”œâ”€â”€ Kubernetes Migration Tools:
â”‚   â”œâ”€â”€ kubectlì„ í†µí•œ ë¦¬ì†ŒìŠ¤ ë‚´ë³´ë‚´ê¸°
â”‚   â”œâ”€â”€ Helm ì°¨íŠ¸ ê¸°ë°˜ ë°°í¬
â”‚   â”œâ”€â”€ Kustomize ì˜¤ë²„ë ˆì´ í™œìš©
â”‚   â”œâ”€â”€ GitOps ê¸°ë°˜ ë™ê¸°í™”
â”‚   â””â”€â”€ ì»¤ìŠ¤í…€ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ í´ë¼ìš°ë“œ ì œê³µì—…ì²´ ë„êµ¬:
â”‚   â”œâ”€â”€ AWS Migration Hub
â”‚   â”œâ”€â”€ Azure Migrate
â”‚   â”œâ”€â”€ Google Cloud Migrate
â”‚   â”œâ”€â”€ ê´€ë¦¬í˜• ë§ˆì´ê·¸ë ˆì´ì…˜ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ ë„¤ì´í‹°ë¸Œ í†µí•© ì§€ì›
â””â”€â”€ ì„œë“œíŒŒí‹° ì†”ë£¨ì…˜:
    â”œâ”€â”€ Portworx PX-Migrate
    â”œâ”€â”€ Kasten K10
    â”œâ”€â”€ Rancher Fleet
    â”œâ”€â”€ ìƒìš© ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬
    â””â”€â”€ ì»¨ì„¤íŒ… ì„œë¹„ìŠ¤ í™œìš©
```

## 3. ì´ë¡ : ë¡¤ë°± ë° ë¦¬ìŠ¤í¬ ê´€ë¦¬ (10ë¶„)

### ë¡¤ë°± ì „ëµ ë° ë³µêµ¬ ê³„íš

```
ë¡¤ë°± ë° ë³µêµ¬ ì „ëµ:

ë¡¤ë°± ì‹œë‚˜ë¦¬ì˜¤:
â”œâ”€â”€ ì—…ê·¸ë ˆì´ë“œ ì‹¤íŒ¨:
â”‚   â”œâ”€â”€ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì¥ì• 
â”‚   â”œâ”€â”€ ì›Œì»¤ ë…¸ë“œ ë¬¸ì œ
â”‚   â”œâ”€â”€ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì‹¤íŒ¨
â”‚   â”œâ”€â”€ ìŠ¤í† ë¦¬ì§€ ì ‘ê·¼ ë¶ˆê°€
â”‚   â””â”€â”€ ì• í”Œë¦¬ì¼€ì´ì…˜ í˜¸í™˜ì„± ë¬¸ì œ
â”œâ”€â”€ ì„±ëŠ¥ ì €í•˜:
â”‚   â”œâ”€â”€ ì‘ë‹µ ì‹œê°„ ì¦ê°€
â”‚   â”œâ”€â”€ ì²˜ë¦¬ëŸ‰ ê°ì†Œ
â”‚   â”œâ”€â”€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ê¸‰ì¦
â”‚   â”œâ”€â”€ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°œìƒ
â”‚   â””â”€â”€ CPU ì‚¬ìš©ë¥  ê¸‰ì¦
â”œâ”€â”€ ê¸°ëŠ¥ ì¥ì• :
â”‚   â”œâ”€â”€ API í˜¸í™˜ì„± ë¬¸ì œ
â”‚   â”œâ”€â”€ ê¸°ëŠ¥ ë™ì‘ ì˜¤ë¥˜
â”‚   â”œâ”€â”€ ë°ì´í„° ì†ì‹¤ ìœ„í—˜
â”‚   â”œâ”€â”€ ë³´ì•ˆ ì·¨ì•½ì  ë…¸ì¶œ
â”‚   â””â”€â”€ í†µí•© ì„œë¹„ìŠ¤ ì‹¤íŒ¨
â””â”€â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥:
    â”œâ”€â”€ ì„œë¹„ìŠ¤ ì¤‘ë‹¨
    â”œâ”€â”€ ì‚¬ìš©ì ê²½í—˜ ì €í•˜
    â”œâ”€â”€ ë§¤ì¶œ ì†ì‹¤ ë°œìƒ
    â”œâ”€â”€ SLA ìœ„ë°˜
    â””â”€â”€ ê³ ê° ì‹ ë¢°ë„ í•˜ë½

ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜:
â”œâ”€â”€ ìë™ ë¡¤ë°±:
â”‚   â”œâ”€â”€ í—¬ìŠ¤ ì²´í¬ ê¸°ë°˜ ìë™ ê°ì§€
â”‚   â”œâ”€â”€ ë©”íŠ¸ë¦­ ì„ê³„ê°’ ê¸°ë°˜ íŠ¸ë¦¬ê±°
â”‚   â”œâ”€â”€ ì‚¬ì „ ì •ì˜ëœ ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ ìµœì†Œ ê°œì…ìœ¼ë¡œ ë¹ ë¥¸ ë³µêµ¬
â”‚   â””â”€â”€ ì•Œë¦¼ ë° ë¡œê¹… ìë™í™”
â”œâ”€â”€ ìˆ˜ë™ ë¡¤ë°±:
â”‚   â”œâ”€â”€ ìš´ì˜íŒ€ íŒë‹¨ ê¸°ë°˜ ì‹¤í–‰
â”‚   â”œâ”€â”€ ìƒí™©ë³„ ë§ì¶¤ ëŒ€ì‘
â”‚   â”œâ”€â”€ ë¶€ë¶„ ë¡¤ë°± ë° ì„ íƒì  ë³µêµ¬
â”‚   â”œâ”€â”€ ê·¼ë³¸ ì›ì¸ ë¶„ì„ ë³‘í–‰
â”‚   â””â”€â”€ ë¬¸ì„œí™”ëœ ì ˆì°¨ ì¤€ìˆ˜
â”œâ”€â”€ ì ì§„ì  ë¡¤ë°±:
â”‚   â”œâ”€â”€ ë‹¨ê³„ë³„ ìˆœì°¨ ë¡¤ë°±
â”‚   â”œâ”€â”€ ì˜í–¥ ë²”ìœ„ ìµœì†Œí™”
â”‚   â”œâ”€â”€ ì„œë¹„ìŠ¤ ì—°ì†ì„± ë³´ì¥
â”‚   â”œâ”€â”€ ë°ì´í„° ì¼ê´€ì„± ìœ ì§€
â”‚   â””â”€â”€ ì‚¬ìš©ì ì˜í–¥ ìµœì†Œí™”
â””â”€â”€ ì™„ì „ ë¡¤ë°±:
    â”œâ”€â”€ ì „ì²´ ì‹œìŠ¤í…œ ì´ì „ ìƒíƒœ ë³µì›
    â”œâ”€â”€ ë°±ì—…ì—ì„œ ì™„ì „ ë³µêµ¬
    â”œâ”€â”€ ëª¨ë“  ë³€ê²½ ì‚¬í•­ ë˜ëŒë¦¬ê¸°
    â”œâ”€â”€ ìµœëŒ€ ì•ˆì •ì„± í™•ë³´
    â””â”€â”€ ìµœëŒ€ ë‹¤ìš´íƒ€ì„ ë°œìƒ

ë¦¬ìŠ¤í¬ ê´€ë¦¬:
â”œâ”€â”€ ì‚¬ì „ ìœ„í—˜ í‰ê°€:
â”‚   â”œâ”€â”€ ì—…ê·¸ë ˆì´ë“œ ì˜í–¥ ë¶„ì„
â”‚   â”œâ”€â”€ ì˜ì¡´ì„± ìœ„í—˜ í‰ê°€
â”‚   â”œâ”€â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ì—°ì†ì„± ê³„íš
â”‚   â”œâ”€â”€ ë³µêµ¬ ì‹œê°„ ëª©í‘œ ì„¤ì •
â”‚   â””â”€â”€ ìœ„í—˜ ì™„í™” ì „ëµ ìˆ˜ë¦½
â”œâ”€â”€ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼:
â”‚   â”œâ”€â”€ ì‹¤ì‹œê°„ ìƒíƒœ ëª¨ë‹ˆí„°ë§
â”‚   â”œâ”€â”€ ì´ìƒ ì§•í›„ ì¡°ê¸° ê°ì§€
â”‚   â”œâ”€â”€ ìë™ ì•Œë¦¼ ë° ì—ìŠ¤ì»¬ë ˆì´ì…˜
â”‚   â”œâ”€â”€ ëŒ€ì‹œë³´ë“œ ë° ì‹œê°í™”
â”‚   â””â”€â”€ ë¡œê·¸ ë¶„ì„ ë° ì¶”ì 
â””â”€â”€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜:
    â”œâ”€â”€ ì´í•´ê´€ê³„ì ì‚¬ì „ í†µë³´
    â”œâ”€â”€ ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ ê³µìœ 
    â”œâ”€â”€ ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ë³´ê³ 
    â”œâ”€â”€ ë³µêµ¬ ì™„ë£Œ í›„ ì‚¬í›„ ë¶„ì„
    â””â”€â”€ êµí›ˆ í•™ìŠµ ë° ê°œì„ 
```

## 4. ê°œë… ì˜ˆì‹œ: ì—…ê·¸ë ˆì´ë“œ ë° ë§ˆì´ê·¸ë ˆì´ì…˜ êµ¬ì„± (12ë¶„)

### kubeadm ì—…ê·¸ë ˆì´ë“œ ì˜ˆì‹œ

```bash
# Kubernetes í´ëŸ¬ìŠ¤í„° ì—…ê·¸ë ˆì´ë“œ (ê°œë… ì˜ˆì‹œ)

# 1. í˜„ì¬ ë²„ì „ í™•ì¸
kubectl version --short
kubeadm version

# 2. ì—…ê·¸ë ˆì´ë“œ ê³„íš í™•ì¸
kubeadm upgrade plan

# 3. ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì—…ê·¸ë ˆì´ë“œ
sudo kubeadm upgrade apply v1.28.0

# 4. kubelet ë° kubectl ì—…ê·¸ë ˆì´ë“œ
sudo apt-mark unhold kubeadm kubelet kubectl
sudo apt-get update
sudo apt-get install -y kubeadm=1.28.0-00 kubelet=1.28.0-00 kubectl=1.28.0-00
sudo apt-mark hold kubeadm kubelet kubectl

# 5. kubelet ì¬ì‹œì‘
sudo systemctl daemon-reload
sudo systemctl restart kubelet

# 6. ì›Œì»¤ ë…¸ë“œ ì—…ê·¸ë ˆì´ë“œ (ê° ë…¸ë“œì—ì„œ)
kubectl drain <node-name> --ignore-daemonsets
sudo kubeadm upgrade node
sudo systemctl restart kubelet
kubectl uncordon <node-name>
```

### Velero ë°±ì—… ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ˆì‹œ

```yaml
# Velero ë°±ì—… êµ¬ì„± (ê°œë… ì˜ˆì‹œ)
apiVersion: velero.io/v1
kind: Backup
metadata:
  name: full-cluster-backup
  namespace: velero
spec:
  includedNamespaces:
  - "*"
  excludedNamespaces:
  - kube-system
  - velero
  includedResources:
  - "*"
  excludedResources:
  - events
  - events.events.k8s.io
  labelSelector:
    matchLabels:
      backup: "true"
  snapshotVolumes: true
  ttl: 720h0m0s
  storageLocation: default
  volumeSnapshotLocations:
  - default

---
# ë³µì› êµ¬ì„±
apiVersion: velero.io/v1
kind: Restore
metadata:
  name: full-cluster-restore
  namespace: velero
spec:
  backupName: full-cluster-backup
  includedNamespaces:
  - production
  - staging
  excludedResources:
  - nodes
  - events
  restorePVs: true
```

### ì—…ê·¸ë ˆì´ë“œ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ

```bash
#!/bin/bash
# Kubernetes ì—…ê·¸ë ˆì´ë“œ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ (ê°œë… ì˜ˆì‹œ)

set -e

TARGET_VERSION="1.28.0"
BACKUP_NAME="pre-upgrade-$(date +%Y%m%d-%H%M%S)"

echo "Starting Kubernetes upgrade to version $TARGET_VERSION"

# 1. ì‚¬ì „ ë°±ì—…
echo "Creating backup..."
velero backup create $BACKUP_NAME --wait

# 2. ì—…ê·¸ë ˆì´ë“œ ì „ ê²€ì¦
echo "Pre-upgrade validation..."
kubectl get nodes
kubectl get pods --all-namespaces | grep -v Running | grep -v Completed

# 3. ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì—…ê·¸ë ˆì´ë“œ
echo "Upgrading control plane..."
kubeadm upgrade plan
kubeadm upgrade apply $TARGET_VERSION -y

# 4. ì›Œì»¤ ë…¸ë“œ ì—…ê·¸ë ˆì´ë“œ
echo "Upgrading worker nodes..."
for node in $(kubectl get nodes -o jsonpath='{.items[*].metadata.name}' | grep -v master); do
    echo "Upgrading node: $node"
    kubectl drain $node --ignore-daemonsets --delete-emptydir-data --force
    
    # SSH to node and upgrade
    ssh $node "
        kubeadm upgrade node
        systemctl restart kubelet
    "
    
    kubectl uncordon $node
    kubectl wait --for=condition=Ready node/$node --timeout=300s
done

# 5. ì—…ê·¸ë ˆì´ë“œ í›„ ê²€ì¦
echo "Post-upgrade validation..."
kubectl version
kubectl get nodes
kubectl get pods --all-namespaces

echo "Upgrade completed successfully!"
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì˜ˆì‹œ

```yaml
# ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ (ê°œë… ì˜ˆì‹œ)
apiVersion: v1
kind: ConfigMap
metadata:
  name: migration-checklist
data:
  pre-migration.md: |
    # Pre-Migration Checklist
    
    ## Infrastructure
    - [ ] Target cluster provisioned and configured
    - [ ] Network connectivity established
    - [ ] Storage systems prepared
    - [ ] Backup systems configured
    
    ## Security
    - [ ] RBAC policies reviewed and updated
    - [ ] Secrets and certificates migrated
    - [ ] Network policies configured
    - [ ] Security scanning completed
    
    ## Applications
    - [ ] Application inventory completed
    - [ ] Dependencies mapped
    - [ ] Configuration externalized
    - [ ] Health checks configured
    
    ## Testing
    - [ ] Migration scripts tested
    - [ ] Rollback procedures verified
    - [ ] Performance benchmarks established
    - [ ] Monitoring and alerting configured
  
  post-migration.md: |
    # Post-Migration Checklist
    
    ## Validation
    - [ ] All workloads running successfully
    - [ ] Network connectivity verified
    - [ ] Data integrity confirmed
    - [ ] Performance metrics within acceptable range
    
    ## Cleanup
    - [ ] Source cluster resources cleaned up
    - [ ] Temporary migration resources removed
    - [ ] Documentation updated
    - [ ] Team training completed
```

## 5. í† ë¡  ë° ì •ë¦¬ (8ë¶„)

### í•µì‹¬ ê°œë… ì •ë¦¬
- **ì²´ê³„ì  ì—…ê·¸ë ˆì´ë“œ ê³„íš**ê³¼ **í˜¸í™˜ì„± ê²€ì¦** í”„ë¡œì„¸ìŠ¤
- **ë‹¤ì–‘í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒ¨í„´**ê³¼ **ìƒí™©ë³„ ìµœì  ì „ëµ**
- **ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜**ê³¼ **ë¦¬ìŠ¤í¬ ê´€ë¦¬** ì²´ê³„
- **ìë™í™” ë„êµ¬** í™œìš©ì„ í†µí•œ **ì•ˆì „í•˜ê³  íš¨ìœ¨ì ì¸ ì „í™˜**

### í† ë¡  ì£¼ì œ
"ëŒ€ê·œëª¨ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë¬´ì¤‘ë‹¨ ì—…ê·¸ë ˆì´ë“œì™€ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ë³´ì¥í•˜ë©´ì„œë„ ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™”í•˜ëŠ” ì „ëµì€ ë¬´ì—‡ì¸ê°€?"

## ğŸ’¡ í•µì‹¬ í‚¤ì›Œë“œ
- **ì—…ê·¸ë ˆì´ë“œ ì „ëµ**: ë²„ì „ í˜¸í™˜ì„±, ë‹¨ê³„ì  ì—…ê·¸ë ˆì´ë“œ, ë¸”ë£¨-ê·¸ë¦°
- **ë§ˆì´ê·¸ë ˆì´ì…˜**: Lift and Shift, Re-platforming, ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- **ë¡¤ë°± ê³„íš**: ìë™ ë¡¤ë°±, ë¦¬ìŠ¤í¬ í‰ê°€, ë³µêµ¬ ì „ëµ
- **ìë™í™” ë„êµ¬**: kubeadm, Velero, ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸

## ğŸ“š ì°¸ê³  ìë£Œ
- [Kubernetes ì—…ê·¸ë ˆì´ë“œ ê°€ì´ë“œ](https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-upgrade/)
- [Velero ë°±ì—… ì†”ë£¨ì…˜](https://velero.io/docs/)
- [í´ëŸ¬ìŠ¤í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ëª¨ë²” ì‚¬ë¡€](https://kubernetes.io/docs/setup/production-environment/)
